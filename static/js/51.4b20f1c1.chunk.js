(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[51],{605:function(e,t,n){"use strict";var r=n(127);function c(){var e=Object(r.a)(["\n  margin-top: 16px;\n  padding: 24px;\n  background-color: white;\n  width: 100%;\n  border-radius: 5px;\n  border: 1px solid #dee2e6 !important;\n"]);return c=function(){return e},e}var a=n(128).a.div(c());t.a=a},606:function(e,t,n){"use strict";var r=n(127);function c(){var e=Object(r.a)(["\n  margin-bottom: 24px;\n"]);return c=function(){return e},e}var a=n(128).a.h1(c());t.a=a},607:function(e,t,n){"use strict";var r=n(127),c=n(11),a=(n(5),n(85));function s(){var e=Object(r.a)(["\n  .breadcrumb {\n    font-size: 13px;\n    margin: 0px;\n    padding: 0px;\n    background-color: transparent;\n  }\n\n  .breadcrumb-item:not(.active) a {\n    color: rgba(0, 0, 0, 0.45);\n  }\n"]);return s=function(){return e},e}var i=n(128).a.nav(s());t.a=function(e){var t=function(e){return e.length>1};return Object(c.jsx)(i,{children:Object(c.jsx)("ol",{className:"breadcrumb",children:e.items.map((function(n,r){return Object(c.jsx)("li",{className:"breadcrumb-item ".concat(e.items.length-1===r?"active":""),children:t(n)?Object(c.jsx)(a.a,{to:n[1],children:n[0]}):n[0]},n[0])}))})})}},608:function(e,t,n){"use strict";var r=n(11);n(5);t.a=function(){return Object(r.jsx)("div",{style:{width:"100%",marginTop:"24px",marginBottom:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"},children:Object(r.jsx)("div",{className:"spinner-border text-primary"})})}},628:function(e,t,n){var r=n(385),c=n(629),a=n(634),s=n(386),i=n(635),o=n(384);e.exports=function(e,t,n){var u=-1,l=c,b=e.length,f=!0,j=[],d=j;if(n)f=!1,l=a;else if(b>=200){var m=t?null:i(e);if(m)return o(m);f=!1,l=s,d=new r}else d=t?[]:j;e:for(;++u<b;){var O=e[u],p=t?t(O):O;if(O=n||0!==O?O:0,f&&p===p){for(var x=d.length;x--;)if(d[x]===p)continue e;t&&d.push(p),j.push(O)}else l(d,p,n)||(d!==j&&d.push(p),j.push(O))}return j}},629:function(e,t,n){var r=n(630);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},630:function(e,t,n){var r=n(631),c=n(632),a=n(633);e.exports=function(e,t,n){return t===t?a(e,t,n):r(e,c,n)}},631:function(e,t){e.exports=function(e,t,n,r){for(var c=e.length,a=n+(r?1:-1);r?a--:++a<c;)if(t(e[a],a,e))return a;return-1}},632:function(e,t){e.exports=function(e){return e!==e}},633:function(e,t){e.exports=function(e,t,n){for(var r=n-1,c=e.length;++r<c;)if(e[r]===t)return r;return-1}},634:function(e,t){e.exports=function(e,t,n){for(var r=-1,c=null==e?0:e.length;++r<c;)if(n(t,e[r]))return!0;return!1}},635:function(e,t,n){var r=n(387),c=n(636),a=n(384),s=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:c;e.exports=s},636:function(e,t){e.exports=function(){}},642:function(e,t,n){var r=n(263),c=n(628);e.exports=function(e,t){return e&&e.length?c(e,r(t,2)):[]}},644:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},645:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return c}))},646:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(652),c=n(653);function a(e,t){return!t||"object"!==Object(r.a)(t)&&"function"!==typeof t?Object(c.a)(e):t}},647:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},649:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}n.d(t,"a",(function(){return c}))},652:function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,"a",(function(){return r}))},653:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},673:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},781:function(e,t,n){"use strict";var r=n(4),c=function(e){return e.user.form},a=Object(r.a)([c],(function(e){return e.user})),s={selectInitLoading:Object(r.a)([c],(function(e){return Boolean(e.initLoading)})),selectSaveLoading:Object(r.a)([c],(function(e){return Boolean(e.saveLoading)})),selectUser:a,selectRaw:c};t.a=s},887:function(e,t,n){"use strict";n.r(t);var r=n(145),c=n(11),a=n(5),s=n(34),i=n(32),o=n(2),u=n(7),l=n(101),b=n(781),f=n(605),j=n(607),d=n(608),m=n(606),O=n(0),p=n(602),x=n(650),h=n(661),v=n(622),g=n(616),y=n(603),N=n(38),_=n(612),k=n(663),w=n(614),C=n(667),S=n(668),L=n(664),E=n(609),q=n(55),B=n.n(q),P=n(610),I=n(611),T=N.e().shape({roles:_.a.stringArray(Object(o.c)("user.fields.roles"),{min:1}),phoneNumber:_.a.string(Object(o.c)("phoneNumber"),{max:24}),secteur:_.a.enumerator(Object(o.c)("secteur"),{options:C.a.secteur}),employeur:_.a.string(Object(o.c)("Employeur"),{required:!1}),profession:_.a.string(Object(o.c)("Profession"),{required:!1}),adresse:_.a.string(Object(o.c)("adresse"),{required:!1}),fullName:_.a.string(Object(o.c)("fullName"),{required:!1}),cin:_.a.integer(Object(o.c)("cin"),{maxlength:8}),date_naissance:_.a.date(Object(o.c)("Date Naissance"),{required:!1}),etat_civil:_.a.enumerator(Object(o.c)("user.fields.Etat_Civil"),{options:S.a.Etat}),status:_.a.enumerator(Object(o.c)("user.fields.status"),{options:k.a.status}),lien_facebook:_.a.string(Object(o.c)("Lien Facebook"),{required:!1}),parrain:_.a.relationToOne(Object(o.c)("user.fields.parrain"),{required:!1})});var D=function(e){var t=Object(s.d)(),n=Object(a.useState)((function(){var t=e.user||{};return{roles:t.roles[0],phoneNumber:t.phoneNumber,secteur:t.secteur,employeur:t.employeur,profession:t.profession,adresse:t.adresse,fullName:t.fullName,cin:t.cin,etat_civil:t.etat_civil,date_naissance:t.date_naissance?B()(t.date_naissance).toDate():null,status:t.status,lien_facebook:t.lien_facebook,parrain:t.parrain}})),i=Object(r.a)(n,1)[0],u=Object(p.c)({resolver:Object(w.yupResolver)(T),mode:"all",defaultValues:i}),b=function(n){var r=Object(O.a)({id:e.user.id},n);delete r.email,t(l.a.doUpdate(r))};return Object(c.jsx)(g.a,{children:Object(c.jsx)(p.a,Object(O.a)(Object(O.a)({},u),{},{children:Object(c.jsxs)("form",{onSubmit:u.handleSubmit(b),children:[Object(c.jsxs)(P.a,{style:{backgroundColor:"#f0f2f5",paddingBottom:"10px"},children:[Object(c.jsx)(I.a,{sm:4,children:Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{className:"col-form-label",htmlFor:"email",children:Object(o.c)("user.fields.email")}),Object(c.jsx)("input",{type:"text",readOnly:!0,className:"form-control-plaintext",id:"email",name:"email",value:e.user.email})]})}),Object(c.jsx)(I.a,{sm:4,children:Object(c.jsx)(v.a,{name:"roles",label:Object(o.c)("user.fields.roles"),required:!0,options:k.a.roles.map((function(e){return{value:e,label:Object(o.c)("".concat(e))}}))})}),Object(c.jsx)(I.a,{sm:4,children:Object(c.jsx)(v.a,{name:"status",label:Object(o.c)("user.fields.status"),options:k.a.status.map((function(e){return{value:e,label:Object(o.c)("user.status.".concat(e))}}))})})]}),Object(c.jsxs)(P.a,{children:[Object(c.jsx)(I.a,{sm:4,children:Object(c.jsx)(E.a,{name:"fullName",label:Object(o.c)("user.fields.fullName"),required:!0})}),Object(c.jsx)(I.a,{sm:4,children:Object(c.jsx)(x.a,{name:"phoneNumber",label:Object(o.c)("user.fields.phoneNumber")})}),Object(c.jsx)(I.a,{sm:4,children:Object(c.jsx)(E.a,{name:"adresse",label:Object(o.c)("user.fields.address")})})]}),Object(c.jsxs)(P.a,{style:{backgroundColor:"#f0f2f5",paddingBottom:"10px"},children:[Object(c.jsx)(I.a,{sm:4,children:Object(c.jsx)(v.a,{name:"secteur",label:Object(o.c)("user.fields.sector"),options:C.a.secteur.map((function(e){return{value:e,label:Object(o.c)("user.sector.".concat(e))}}))})}),Object(c.jsx)(I.a,{sm:4,children:Object(c.jsx)(E.a,{name:"employeur",label:Object(o.c)("user.fields.employer")})}),Object(c.jsx)(I.a,{sm:4,children:Object(c.jsx)(E.a,{name:"profession",label:Object(o.c)("user.fields.profession")})})]}),Object(c.jsxs)(P.a,{children:[Object(c.jsx)(I.a,{sm:4,children:Object(c.jsx)(h.a,{name:"date_naissance",label:Object(o.c)("user.fields.birthDate")})}),Object(c.jsx)(I.a,{sm:4,children:Object(c.jsx)(v.a,{name:"etat_civil",label:Object(o.c)("user.fields.maritalStatus"),options:S.a.Etat.map((function(e){return{value:e,label:Object(o.c)("user.maritalStatus.".concat(e))}}))})}),Object(c.jsx)(I.a,{sm:4,children:Object(c.jsx)(x.a,{name:"cin",label:Object(o.c)("C.I.N")})})]}),Object(c.jsxs)(P.a,{style:{backgroundColor:"#f0f2f5",paddingBottom:"10px"},children:[Object(c.jsx)(I.a,{sm:4,children:Object(c.jsx)(E.a,{name:"lien_facebook",label:Object(o.c)("user.fields.facebookLink")})}),Object(c.jsx)(I.a,{sm:4,children:Object(c.jsx)(L.a,{name:"parrain",label:Object(o.c)("user.fields.sponsor"),showCreate:!e.modal})}),Object(c.jsx)(I.a,{sm:4})]}),Object(c.jsxs)("div",{className:"form-buttons",children:[Object(c.jsxs)("button",{className:"btn btn-primary",disabled:e.saveLoading,type:"button",onClick:u.handleSubmit(b),children:[Object(c.jsx)(y.a,{loading:e.saveLoading,iconClass:"far fa-save"})," ",Object(o.c)("common.save")]}),Object(c.jsxs)("button",{className:"btn btn-light",disabled:e.saveLoading,onClick:function(){Object.keys(i).forEach((function(e){u.setValue(e,i[e])}))},type:"button",children:[Object(c.jsx)("i",{className:"fas fa-undo"})," ",Object(o.c)("common.reset")]}),e.onCancel?Object(c.jsxs)("button",{className:"btn btn-light",disabled:e.saveLoading,onClick:function(){return e.onCancel()},type:"button",children:[Object(c.jsx)("i",{className:"fas fa-times"})," ",Object(o.c)("common.cancel")]}):null]})]})}))})};t.default=function(e){var t=Object(s.d)(),n=Object(a.useState)(!1),O=Object(r.a)(n,2),p=O[0],x=O[1],h=Object(s.e)(b.a.selectInitLoading),v=Object(s.e)(b.a.selectSaveLoading),g=Object(s.e)(b.a.selectUser),y=Object(i.h)(),N=Boolean(y.params.id);return Object(a.useEffect)((function(){t(l.a.doInit(y.params.id)),x(!0)}),[t,y.params.id]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(j.a,{items:[[Object(o.c)("dashboard.menu"),"/"],[Object(o.c)("user.menu"),"/user"],[Object(o.c)("user.edit.title")]]}),Object(c.jsxs)(f.a,{children:[Object(c.jsx)(m.a,{children:Object(o.c)("user.edit.title")}),h&&Object(c.jsx)(d.a,{}),p&&!h&&Object(c.jsx)(D,{user:g,saveLoading:v,isEditing:N,onCancel:function(){return Object(u.b)().push("/user")}})]})]})}}}]);